<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8">
<title>RG.card - Suivi avancÃ©</title>
<style>
  body { font-family: Arial, sans-serif; background:#111; color:#fff; text-align:center; padding:20px; }
  h1 { font-size:22px; }
  .box { margin:20px auto; padding:20px; border:1px solid #444; border-radius:10px; max-width:350px; background:#222; }
  button { padding:10px 20px; margin:10px; font-size:16px; border:none; border-radius:6px; cursor:pointer; }
  .default { background:#e30613; color:white; }
  .custom { background:#444; color:white; }
  .reset { background:#555; color:white; margin-top:10px; }
  input { padding:10px; margin-top:10px; border-radius:6px; border:1px solid #666; width:150px; }
</style>
</head>
<body>
  <h1>ðŸ“Š Suivi des ventes RG.card</h1>

  <div class="box">
    <h2>Bilan</h2>
    <p>Ventes effectuÃ©es : <span id="sold">0</span></p>
    <p>Chiffre dâ€™affaires : <span id="revenue">0.00</span> â‚¬</p>
    <p>Mise de dÃ©part : -85.00 â‚¬</p>
    <p>Solde actuel : <span id="balance">-85.00</span> â‚¬</p>
  </div>

  <div class="box">
    <button type="button" class="default" onclick="addSale(35)">+ Vente (35 â‚¬)</button><br>
    <input id="customPrice" type="number" placeholder="Prix perso (â‚¬)">
    <button type="button" class="custom" onclick="addCustomSale()">+ Vente (prix perso)</button><br>
    <button type="button" class="reset" onclick="resetAll()">ðŸ”„ Remise Ã  zÃ©ro</button>
  </div>

<script>
let invest = 85.00;
let sold = 0;
let revenue = 0;

// Charger les donnÃ©es si elles existent
if(localStorage.getItem("sold")) sold = parseInt(localStorage.getItem("sold"));
if(localStorage.getItem("revenue")) revenue = parseFloat(localStorage.getItem("revenue"));

function updateDisplay(){
  document.getElementById("sold").textContent = sold;
  document.getElementById("revenue").textContent = revenue.toFixed(2);
  document.getElementById("balance").textContent = (revenue - invest).toFixed(2);
  // Sauvegarder dans localStorage
  localStorage.setItem("sold", sold);
  localStorage.setItem("revenue", revenue);
}

function addSale(price){
  sold++;
  revenue += price;
  updateDisplay();
}

function addCustomSale(){
  let p = parseFloat(document.getElementById("customPrice").value);
  if(p > 0){
    sold++;
    revenue += p;
    updateDisplay();
    document.getElementById("customPrice").value = "";
  } else {
    alert("Entre un prix valide !");
  }
}

function resetAll(){
  sold = 0;
  revenue = 0;
  updateDisplay();
}

// Mise Ã  jour initiale
updateDisplay();
</script>
</body>
</html>