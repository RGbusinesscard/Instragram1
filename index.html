<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8">
<title>RG.card - Suivi ventes NFC</title>
<style>
  body { font-family: Arial, sans-serif; background:#0f1117; color:#f1f1f1; text-align:center; padding:20px; }
  h1 { font-size:24px; margin-bottom:20px; }
  h2 { margin:10px 0; }
  .section { margin:25px auto; padding:20px; border:1px solid #333; border-radius:12px; max-width:400px; background:#1a1f29; box-shadow:0 4px 10px rgba(0,0,0,0.4);}
  .stats { font-size:15px; margin:10px 0; }
  button { padding:10px 16px; margin:6px; font-size:15px; border:none; border-radius:8px; cursor:pointer; }
  .default { background:#e30613; color:white; }
  .custom { background:#444; color:white; }
  .reset { background:#666; color:white; margin-top:10px; }
  input { padding:10px; margin-top:8px; border-radius:6px; border:1px solid #666; width:160px; }
</style>
</head>
<body>
  <h1>ðŸ“Š Suivi des ventes RG.card</h1>

  <!-- Plaques NFC -->
  <div class="section">
    <h2>ðŸŸ¦ Plaques NFC</h2>
    <div class="stats">Mise de dÃ©part : -85.00 â‚¬</div>
    <div class="stats">Ventes effectuÃ©es : <span id="soldPlaque">0</span></div>
    <div class="stats">Chiffre dâ€™affaires : <span id="revPlaque">0.00</span> â‚¬</div>
    <div class="stats">Solde actuel : <span id="balPlaque">-85.00</span> â‚¬</div>
    <button class="default" onclick="addPlaque(35)">+ Plaque (35 â‚¬)</button>
    <button class="reset" onclick="resetPlaque()">ðŸ”„ Remise Ã  zÃ©ro</button>
  </div>

  <!-- Cartes NFC -->
  <div class="section">
    <h2>ðŸŸ¥ Cartes NFC</h2>
    <div class="stats">CoÃ»t de base fabrication : 1 â‚¬</div>
    <div class="stats">+ Gravure laser : 10 â‚¬ (option)</div>
    <div class="stats">+ Mini-site : 10 â‚¬ (option)</div>
    <div class="stats">Ventes effectuÃ©es : <span id="soldCard">0</span></div>
    <div class="stats">Chiffre dâ€™affaires : <span id="revCard">0.00</span> â‚¬</div>
    <div class="stats">CoÃ»ts totaux : <span id="costCard">0.00</span> â‚¬</div>
    <div class="stats">Profit : <span id="profitCard">0.00</span> â‚¬</div>
    <input id="priceCard" type="number" placeholder="Prix de vente (â‚¬)">
    <br>
    <label><input type="checkbox" id="laser"> Gravure (+10 â‚¬)</label><br>
    <label><input type="checkbox" id="site"> Mini-site (+10 â‚¬)</label><br>
    <button class="custom" onclick="addCard()">+ Carte NFC</button>
    <button class="reset" onclick="resetCard()">ðŸ”„ Remise Ã  zÃ©ro</button>
  </div>

<script>
// ---------- PLAQUES ----------
let plaqueSold = parseInt(localStorage.getItem("plaqueSold")) || 0;
let plaqueRevenue = parseFloat(localStorage.getItem("plaqueRevenue")) || 0;
let plaqueInvest = 85;

function updatePlaque(){
  document.getElementById("soldPlaque").textContent = plaqueSold;
  document.getElementById("revPlaque").textContent = plaqueRevenue.toFixed(2);
  document.getElementById("balPlaque").textContent = (plaqueRevenue - plaqueInvest).toFixed(2);
  localStorage.setItem("plaqueSold", plaqueSold);
  localStorage.setItem("plaqueRevenue", plaqueRevenue);
}
function addPlaque(price){
  plaqueSold++;
  plaqueRevenue += price;
  updatePlaque();
}
function resetPlaque(){
  plaqueSold = 0; plaqueRevenue = 0; updatePlaque();
}

// ---------- CARTES ----------
let cardSold = parseInt(localStorage.getItem("cardSold")) || 0;
let cardRevenue = parseFloat(localStorage.getItem("cardRevenue")) || 0;
let cardCost = parseFloat(localStorage.getItem("cardCost")) || 0;

function updateCard(){
  document.getElementById("soldCard").textContent = cardSold;
  document.getElementById("revCard").textContent = cardRevenue.toFixed(2);
  document.getElementById("costCard").textContent = cardCost.toFixed(2);
  document.getElementById("profitCard").textContent = (cardRevenue - cardCost).toFixed(2);
  localStorage.setItem("cardSold", cardSold);
  localStorage.setItem("cardRevenue", cardRevenue);
  localStorage.setItem("cardCost", cardCost);
}

function addCard(){
  let price = parseFloat(document.getElementById("priceCard").value);
  if(!(price>0)){ alert("Entre un prix valide"); return; }
  let cost = 1;
  if(document.getElementById("laser").checked) cost += 10;
  if(document.getElementById("site").checked) cost += 10;
  cardSold++;
  cardRevenue += price;
  cardCost += cost;
  updateCard();
  document.getElementById("priceCard").value="";
  document.getElementById("laser").checked=false;
  document.getElementById("site").checked=false;
}
function resetCard(){
  cardSold = 0; cardRevenue = 0; cardCost=0; updateCard();
}

// Initial update
updatePlaque();
updateCard();
</script>
</body>
</html>