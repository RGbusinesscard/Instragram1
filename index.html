<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>RG.card - Suivi plaques & cartes NFC</title>
<style>
  :root{
    --bg:#0f1117;--panel:#1a1f29;--text:#f1f1f1;--muted:#b3bcc7;--accent:#e30613;
  }
  *{box-sizing:border-box}
  body{font-family: Arial, system-ui, -apple-system, Segoe UI, Roboto, Inter, sans-serif; margin:0; background:var(--bg); color:var(--text); padding:22px; text-align:center;}
  h1{font-size:24px;margin:0 0 18px}
  h2{font-size:18px;margin:0 0 10px}
  .wrap{max-width:860px;margin:0 auto;display:grid;gap:16px;grid-template-columns:1fr; }
  .section{background:var(--panel);border:1px solid #2a3040;border-radius:14px;padding:16px;box-shadow:0 8px 24px rgba(0,0,0,.35)}
  .stats{font-size:15px;margin:8px 0;color:var(--muted)}
  .value{color:var(--text)}
  .row{display:flex;gap:8px;justify-content:center;align-items:center;flex-wrap:wrap;margin-top:8px}
  button{padding:10px 16px;border:none;border-radius:10px;cursor:pointer;font-weight:700}
  .primary{background:var(--accent);color:#fff}
  .reset{background:#525d70;color:#fff}
  .check{filter:brightness(1.0)}
  label{font-size:14px;color:var(--muted)}
  input[type="number"]{padding:10px;border-radius:8px;border:1px solid #3a4155;background:#0f1420;color:var(--text);width:160px}
  small{color:var(--muted)}
</style>
</head>
<body>
  <h1>ðŸ“Š Suivi ventes â€” RG.card</h1>
  <div class="wrap">

    <!-- PLAQUES NFC -->
    <section class="section">
      <h2>ðŸŸ¦ Plaques NFC</h2>
      <div class="stats">Mise de dÃ©part : <span class="value">-85,00 â‚¬</span></div>
      <div class="stats">Ventes effectuÃ©es : <span class="value" id="soldPlaque">0</span></div>
      <div class="stats">Chiffre dâ€™affaires : <span class="value" id="revPlaque">0,00</span> â‚¬</div>
      <div class="stats">Solde actuel (CA - mise) : <span class="value" id="balPlaque">-85,00</span> â‚¬</div>
      <div class="row">
        <button type="button" class="primary" onclick="addPlaque(35)">+ Plaque (35 â‚¬)</button>
        <button type="button" class="reset" onclick="resetPlaque()">ðŸ”„ Remise Ã  zÃ©ro</button>
      </div>
      <small>Les chiffres restent mÃªme aprÃ¨s actualisation (enregistrÃ©s sur lâ€™appareil).</small>
    </section>

    <!-- CARTES NFC -->
    <section class="section">
      <h2>ðŸŸ¥ Cartes NFC</h2>
      <div class="stats">Prix fixe par carte : <span class="value">20 â‚¬</span></div>
      <div class="stats"><label><input class="check" type="checkbox" id="cardLaser"> Gravure +10 â‚¬</label></div>
      <div class="stats"><label><input class="check" type="checkbox" id="cardSite"> Mini-site +10 â‚¬</label></div>
      <div class="stats">Ventes effectuÃ©es : <span class="value" id="soldCard">0</span></div>
      <div class="stats">Chiffre dâ€™affaires : <span class="value" id="revCard">0,00</span> â‚¬</div>
      <div class="row">
        <button type="button" class="primary" onclick="addCard()">+ Carte (20 â‚¬ + options)</button>
        <button type="button" class="reset" onclick="resetCard()">ðŸ”„ Remise Ã  zÃ©ro</button>
      </div>
      <small>Options ajoutÃ©es au prix de 20 â‚¬ pour chaque vente.</small>
    </section>

  </div>

<script>
// ---------- Utilitaires format FR ----------
const fmt = new Intl.NumberFormat('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 });

// ---------- PLAQUES ----------
let plaqueSold     = parseInt(localStorage.getItem('plaqueSold')     || '0', 10);
let plaqueRevenue  = parseFloat(localStorage.getItem('plaqueRevenue')|| '0');
const plaqueInvest = 85;

function updatePlaque(){
  document.getElementById('soldPlaque').textContent = plaqueSold;
  document.getElementById('revPlaque').textContent  = fmt.format(plaqueRevenue);
  document.getElementById('balPlaque').textContent  = fmt.format(plaqueRevenue - plaqueInvest);
  localStorage.setItem('plaqueSold', plaqueSold);
  localStorage.setItem('plaqueRevenue', plaqueRevenue);
}
function addPlaque(p){
  plaqueSold++; plaqueRevenue += p; updatePlaque();
}
function resetPlaque(){
  plaqueSold = 0; plaqueRevenue = 0; updatePlaque();
}

// ---------- CARTES ----------
let cardSold    = parseInt(localStorage.getItem('cardSold')   || '0', 10);
let cardRevenue = parseFloat(localStorage.getItem('cardRevenue') || '0');

function updateCard(){
  document.getElementById('soldCard').textContent = cardSold;
  document.getElementById('revCard').textContent  = fmt.format(cardRevenue);
  localStorage.setItem('cardSold', cardSold);
  localStorage.setItem('cardRevenue', cardRevenue);
}

function addCard(){
  const base = 20;
  let add = 0;
  if(document.getElementById('cardLaser').checked) add += 10;
  if(document.getElementById('cardSite').checked)  add += 10;
  const total = base + add;
  cardSold++; cardRevenue += total;
  updateCard();
  // rÃ©initialiser les options aprÃ¨s ajout
  document.getElementById('cardLaser').checked = false;
  document.getElementById('cardSite').checked  = false;
}

function resetCard(){
  cardSold = 0; cardRevenue = 0; updateCard();
}

// Init affichage
updatePlaque();
updateCard();
</script>
</body>
</html>